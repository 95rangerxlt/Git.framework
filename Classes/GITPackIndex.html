<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 STRICT//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>GITPackIndex class reference</title>
  <meta http-equiv="Content-Type" content="application/xhtml+xml;charset=utf-8" />
  <link rel="stylesheet" type="text/css" href="../css/screen.css" />
  <meta name="generator" content="appledoc" />
</head>
<body>
  <div id="mainContainer">
    <h1>GITPackIndex class reference</h1>
    <table summary="Basic information" id="classInfo">
      <tr class="alt">
        <td><label id="classDeclaration">Inherits from</label></td>
        <td>NSObject</td>
      </tr>
      <tr>
        <td><label id="classDeclaration">Declared in</label></td>
        <td>GITPackIndex.h</td>
      </tr>
    </table>
      <h2>Overview</h2>
<p>The <code><a href="">GITPackIndex</a></code> class cluster provides access to the PACK index files for looking up SHA1 object hashes when extracting GIT Objects from PACK files.</p>
<p>Current features of the PACK Index object include;</p>
<p><ul>
<li><p>Parsing of the Fan Out Table </p>
</li>
<li><p>Locating SHA1 entries in the Index </p>
</li>
</ul>
</p>
      <h2>Tasks</h2>
      <h3>Creating and Initialising PACK Index Files</h3>
      <ul class="methods">
        <li>
          <span class="tooltipRegion">
            <code><a href=#packIndexWithPath:error:>+ packIndexWithPath:error:</a></code>
          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#initWithPath:error:>- initWithPath:error:</a></code>
          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#initWithData:error:>- initWithData:error:</a></code>
          </span>
        </li>
      </ul>
      <h3>Index File Information</h3>
      <ul class="methods">
        <li>
          <span class="tooltipRegion">
            <code><a href=#version>- version</a></code>
          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#fanoutTable>- fanoutTable</a></code>
          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#fanoutTable:>- fanoutTable:</a></code>
          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#indexOfSha1:>- indexOfSha1:</a></code>
          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#packOffsetForSha1:>- packOffsetForSha1:</a></code>
          </span>
        </li>
        <li>
          <span class="tooltipRegion">
            <code><a href=#packOffsetForSha1:error:>- packOffsetForSha1:error:</a></code>
          </span>
        </li>
      </ul>
      <h3>Internal Methods</h3>
      <ul class="methods">
        <li>
          <span class="tooltipRegion">
            <code><a href=#fanoutEntryForShasStartingWithByte:>- fanoutEntryForShasStartingWithByte:</a></code>
          </span>
        </li>
      </ul>
      <h2>Class methods</h2>
      <h3><a name="packIndexWithPath:error:"></a>packIndexWithPath:error:</h3>
      <code class="methodDeclaration">+ (id)packIndexWithPath:(NSString *)        <span class="parameter">indexPath</span>
 error:(NSError **)        <span class="parameter">error</span>
</code>
      <h5>Parameters</h5>
      <dl class="parameterList">
        <dt>indexPath</dt>
        <dd><p>Path to the index file </p>
</dd>
        <dt>error</dt>
        <dd><p>NSError describing the error that occurred </p>
</dd>
      </dl>
      <h5>Return value</h5>
<p>autoreleased index file object or nil on error </p>
      <h5>Discussion</h5>
<p>Creates an autoreleased Index file object with the specified path￼.</p>
      <h5>See also</h5>
      <ul class="seeAlso">
        <li><code><a href="#initWithPath:error:">- initWithPath:error:</a></code></li>
        <li><code><a href="#initWithData:error:">- initWithData:error:</a></code></li>
      </ul>
      <h5>Declared in</h5>
      <code>GITPackIndex.h</code>
      <h2>Instance methods</h2>
      <h3><a name="initWithPath:error:"></a>initWithPath:error:</h3>
      <code class="methodDeclaration">- (id)initWithPath:(NSString *)        <span class="parameter">indexPath</span>
 error:(NSError **)        <span class="parameter">error</span>
</code>
      <h5>Parameters</h5>
      <dl class="parameterList">
        <dt>indexPath</dt>
        <dd><p>Path to the index file </p>
</dd>
        <dt>error</dt>
        <dd><p>NSError describing the error that occurred </p>
</dd>
      </dl>
      <h5>Return value</h5>
<p>index file object or nil on error </p>
      <h5>Discussion</h5>
<p>Initialise the Index file with the provided path￼.</p>
      <h5>See also</h5>
      <ul class="seeAlso">
        <li><code><a href="#initWithData:error:">- initWithData:error:</a></code></li>
      </ul>
      <h5>Declared in</h5>
      <code>GITPackIndex.h</code>
      <h3><a name="initWithData:error:"></a>initWithData:error:</h3>
      <code class="methodDeclaration">- (id)initWithData:(NSData *)        <span class="parameter">indexData</span>
 error:(NSError **)        <span class="parameter">error</span>
</code>
      <h5>Parameters</h5>
      <dl class="parameterList">
        <dt>indexData</dt>
        <dd><p><a href="#NSData">NSData</a> object of the index file data </p>
</dd>
        <dt>error</dt>
        <dd><p>NSError describing the error that occurred </p>
</dd>
      </dl>
      <h5>Return value</h5>
<p>index file object or nil on error </p>
      <h5>Discussion</h5>
<p>Initialise the Index file with the provided data￼.</p>
      <h5>Declared in</h5>
      <code>GITPackIndex.h</code>
      <h3><a name="version"></a>version</h3>
      <code class="methodDeclaration">- (NSUInteger)version</code>
      <h5>Return value</h5>
<p>Integer version of the index file </p>
      <h5>Discussion</h5>
<p>Returns the version of the index file￼.</p>
      <h5>Declared in</h5>
      <code>GITPackIndex.h</code>
      <h3><a name="fanoutTable"></a>fanoutTable</h3>
      <code class="methodDeclaration">- (NSArray *)fanoutTable</code>
      <h5>Return value</h5>
<p>contents of the receivers fanout table or nil if an error occurred </p>
      <h5>Discussion</h5>
<p>Returns the contents of the receivers fanout table￼.</p>
      <h5>See also</h5>
      <ul class="seeAlso">
        <li><code><a href="#offsets:">offsets:</a></code></li>
      </ul>
      <h5>Declared in</h5>
      <code>GITPackIndex.h</code>
      <h3><a name="fanoutTable:"></a>fanoutTable:</h3>
      <code class="methodDeclaration">- (NSArray *)fanoutTable:(NSError **)        <span class="parameter">error</span>
</code>
      <h5>Parameters</h5>
      <dl class="parameterList">
        <dt>error</dt>
        <dd><p>NSError describing the error which occurred </p>
</dd>
      </dl>
      <h5>Return value</h5>
<p>contents of the receivers fanout table or nil if an error occurred </p>
      <h5>Discussion</h5>
<p>Returns the contents of the receivers fanout table.</p>
<p>The fanout table consists of one entry per byte value (0-255). The entry value indicates the number of SHA1 hashes stored in the Index file which have a first byte which is less than or equal to the entry index. The contents of the fanout table are used to determine a bounding box of index positions within the main index table in which a SHA1 index entry will exist.</p>
<p>If the offset fanout table is corrupted a GITPackIndexErrorCorrupt NSError will be returned through the passed <em>error</em>.</p>
      <h5>See also</h5>
      <ul class="seeAlso">
        <li><code><a href="#fanoutTable">- fanoutTable</a></code></li>
      </ul>
      <h5>Declared in</h5>
      <code>GITPackIndex.h</code>
      <h3><a name="indexOfSha1:"></a>indexOfSha1:</h3>
      <code class="methodDeclaration">- (NSUInteger)indexOfSha1:(GITObjectHash *)        <span class="parameter">objectHash</span>
</code>
      <h5>Parameters</h5>
      <dl class="parameterList">
        <dt>objectHash</dt>
        <dd><p>Object hash to find the index of </p>
</dd>
      </dl>
      <h5>Return value</h5>
<p>index position of the entry in the main index table </p>
      <h5>Discussion</h5>
<p>Returns the index position of the entry for the object has in the main index table.</p>
<p>Uses a binary search of the main index table bounded by the range given by the fanout table.</p>
      <h5>Declared in</h5>
      <code>GITPackIndex.h</code>
      <h3><a name="packOffsetForSha1:"></a>packOffsetForSha1:</h3>
      <code class="methodDeclaration">- (off_t)packOffsetForSha1:(GITObjectHash *)        <span class="parameter">objectHash</span>
</code>
      <h5>Parameters</h5>
      <dl class="parameterList">
        <dt>objectHash</dt>
        <dd><p>Object hash to find the PACK offset of </p>
</dd>
      </dl>
      <h5>Return value</h5>
<p>the PACK offset where data of the object can be retrieved or NSNotFound on error </p>
      <h5>Discussion</h5>
<p>Returns the offset in the PACK file where the object data can be retrieved.</p>
      <h5>See also</h5>
      <ul class="seeAlso">
        <li><code><a href="#packOffsetForSha1:error:">- packOffsetForSha1:error:</a></code></li>
      </ul>
      <h5>Declared in</h5>
      <code>GITPackIndex.h</code>
      <h3><a name="packOffsetForSha1:error:"></a>packOffsetForSha1:error:</h3>
      <code class="methodDeclaration">- (off_t)packOffsetForSha1:(GITObjectHash *)        <span class="parameter">objectHash</span>
 error:(NSError **)        <span class="parameter">error</span>
</code>
      <h5>Parameters</h5>
      <dl class="parameterList">
        <dt>objectHash</dt>
        <dd><p>Object hash to find the PACK offset of </p>
</dd>
        <dt>error</dt>
        <dd><p>NSError describing the error which occurred </p>
</dd>
      </dl>
      <h5>Return value</h5>
<p>the PACK offset where data of the object can be retrieved or NSNotFound on error </p>
      <h5>Discussion</h5>
<p>Returns the offset in the PACK file where the object data can be retrieved.</p>
<p>If the object cannot be found in the Index file then a <code>GITPackErrorObjectNotFound</code> error is returned via the <em>error</em> argument.</p>
      <h5>See also</h5>
      <ul class="seeAlso">
        <li><code><a href="#packOffsetForSha1:">- packOffsetForSha1:</a></code></li>
      </ul>
      <h5>Declared in</h5>
      <code>GITPackIndex.h</code>
      <h3><a name="fanoutEntryForShasStartingWithByte:"></a>fanoutEntryForShasStartingWithByte:</h3>
      <code class="methodDeclaration">- (GITFanoutEntry)fanoutEntryForShasStartingWithByte:(uint8_t)        <span class="parameter">byte</span>
</code>
      <h5>Parameters</h5>
      <dl class="parameterList">
        <dt>byte</dt>
        <dd><p>The byte corresponding to the fanout entry </p>
</dd>
      </dl>
      <h5>Return value</h5>
<p>A fanout entry for the SHA starting with the specified byte </p>
      <h5>Discussion</h5>
<p>Returns a fanout entry for SHA starting with the specified byte.</p>
      <h5>See also</h5>
      <ul class="seeAlso">
        <li><code><a href="#fanoutTable:">- fanoutTable:</a></code></li>
        <li><code><a href="#fanoutTable">- fanoutTable</a></code></li>
      </ul>
      <h5>Declared in</h5>
      <code>GITPackIndex.h</code>
    <hr />
    <p id="lastUpdated">      (Last updated: 2009-12-06)
      <br />
      Back to <a href="../index.html">index</a> / <a href="../hierarchy.html">hierarchy</a>.
    </p>
  </div>
</body>
</html>
